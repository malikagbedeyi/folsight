import React, { useEffect, useState } from 'react'
import 'bootstrap/dist/css/bootstrap.min.css';
import { useNavigate } from 'react-router-dom';
import '../../../../assets/scss/Dashboard/Compl.ai/DashFramework/importframework.scss'
import { ImportData } from './ImportData';

const ImportFrameWork = ({Import,setImport,handlePage}) => {

    const [preview,setPreview] = useState(false)
    const[error,setError] = useState(false)
    const [clickIcon,setClickIcon] = useState(false)
    const [Return,setReturn] =useState(false)

    const handlePreview = () => {
        setPreview(!preview)
    }
    const handleError = () => {
        setError(!error)
    }
     const handleclickIcon = () => {
        setClickIcon(!clickIcon)
    }
    const handlereturn  = () => {
        setReturn(!Return)
    }    

  return (
    <div className="import">
<div  id="1" className={Import ===1 ? "import-page" : "d-none"}>
    <div className="import-container">
    <div onClick={handlereturn} className="delete-box">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18.5297 17.4707C18.8227 17.7637 18.8227 18.2388 18.5297 18.5318C18.3837 18.6778 18.1917 18.7517 17.9997 18.7517C17.8077 18.7517 17.6158 18.6788 17.4698 18.5318L11.9997 13.0617L6.52975 18.5318C6.38375 18.6778 6.19175 18.7517 5.99975 18.7517C5.80775 18.7517 5.61575 18.6788 5.46975 18.5318C5.17675 18.2388 5.17675 17.7637 5.46975 17.4707L10.9398 12.0008L5.46975 6.53079C5.17675 6.23779 5.17675 5.76275 5.46975 5.46975C5.76275 5.17675 6.23775 5.17675 6.53075 5.46975L12.0008 10.9398L17.4707 5.46975C17.7637 5.17675 18.2387 5.17675 18.5317 5.46975C18.8247 5.76275 18.8247 6.23779 18.5317 6.53079L13.0617 12.0008L18.5297 17.4707Z" fill="#E21D12"/></svg>
          </div>
    <div className="import-proceeed-wrapper">
            <div className="import-proceeed-content">
              <div className="top-import">
              <h4>Import Framework</h4>
              <button>Guide</button>
              </div>
              <span>Download import template</span>
              <div className="import-proceed">
                <div className="import-content">
                <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M18.5741 3.33563H12.2428V1.84375L1.83594 3.45V17.5294L12.2428 19.3219V17.1106H18.5741C18.7658 17.1203 18.9536 17.0537 19.0964 16.9254C19.2391 16.797 19.3253 16.6173 19.3359 16.4256V4.02C19.3251 3.82841 19.2389 3.6489 19.0962 3.52066C18.9534 3.39243 18.7657 3.32591 18.5741 3.33563ZM18.6741 16.5394H12.2216L12.2109 15.3588H13.7653V13.9838H12.1991L12.1916 13.1713H13.7653V11.7963H12.1797L12.1722 10.9838H13.7653V9.60875H12.1672V8.79625H13.7653V7.42125H12.1672V6.60875H13.7653V5.23375H12.1672V3.98375H18.6741V16.5394Z" fill="#20744A"/><path d="M14.6406 5.23438H17.3425V6.60937H14.6406V5.23438ZM14.6406 7.4225H17.3425V8.7975H14.6406V7.4225ZM14.6406 9.61062H17.3425V10.9856H14.6406V9.61062ZM14.6406 11.7987H17.3425V13.1737H14.6406V11.7987ZM14.6406 13.9869H17.3425V15.3619H14.6406V13.9869Z" fill="#20744A"/><path fill-rule="evenodd" clip-rule="evenodd" d="M4.5525 7.25719L5.89375 7.18031L6.73688 9.49844L7.73313 7.08469L9.07438 7.00781L7.44563 10.2991L9.07438 13.5984L7.65625 13.5028L6.69875 10.9878L5.74063 13.4072L4.4375 13.2922L5.95125 10.3778L4.5525 7.25719Z" fill="white"/></svg>
                  <a href="">Excel File</a>
                </div>
            </div>
            <div className="import-button">
            <button>
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.05831 11.275C6.81414 11.0309 6.81414 10.635 7.05831 10.3908C7.30248 10.1467 7.69834 10.1467 7.9425 10.3908L9.37581 11.8242V2.5C9.37581 2.155 9.65581 1.875 10.0008 1.875C10.3458 1.875 10.6258 2.155 10.6258 2.5V11.8242L12.0591 10.3908C12.3033 10.1467 12.6992 10.1467 12.9433 10.3908C13.1875 10.635 13.1875 11.0309 12.9433 11.275L10.4433 13.775C10.3858 13.8325 10.3167 13.8783 10.2401 13.91C10.1634 13.9417 10.0825 13.9583 10.0008 13.9583C9.91915 13.9583 9.83843 13.9417 9.76176 13.91C9.68509 13.8783 9.61581 13.8325 9.55831 13.775L7.05831 11.275ZM15 7.70833C14.655 7.70833 14.375 7.98833 14.375 8.33333C14.375 8.67833 14.655 8.95833 15 8.95833C16.3142 8.95833 16.875 9.51917 16.875 10.8333V15C16.875 16.3142 16.3142 16.875 15 16.875H5C3.68583 16.875 3.125 16.3142 3.125 15V10.8333C3.125 9.51917 3.68583 8.95833 5 8.95833C5.345 8.95833 5.625 8.67833 5.625 8.33333C5.625 7.98833 5.345 7.70833 5 7.70833C2.985 7.70833 1.875 8.81833 1.875 10.8333V15C1.875 17.015 2.985 18.125 5 18.125H15C17.015 18.125 18.125 17.015 18.125 15V10.8333C18.125 8.81833 17.015 7.70833 15 7.70833Z" fill="white"/></svg>
            <span>Download Template</span>
            </button>
            <button onClick={() => setImport(2)} className='button'>
            <span>Proceed</span>
            </button>
            </div>
            </div>
          </div>
    </div>
</div>
<div id="3" className={Import === 2 ? "upload" : "d-none"}>
    <div className="upload-container">
    <div onClick={handlereturn}  className="delete-box">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18.5297 17.4707C18.8227 17.7637 18.8227 18.2388 18.5297 18.5318C18.3837 18.6778 18.1917 18.7517 17.9997 18.7517C17.8077 18.7517 17.6158 18.6788 17.4698 18.5318L11.9997 13.0617L6.52975 18.5318C6.38375 18.6778 6.19175 18.7517 5.99975 18.7517C5.80775 18.7517 5.61575 18.6788 5.46975 18.5318C5.17675 18.2388 5.17675 17.7637 5.46975 17.4707L10.9398 12.0008L5.46975 6.53079C5.17675 6.23779 5.17675 5.76275 5.46975 5.46975C5.76275 5.17675 6.23775 5.17675 6.53075 5.46975L12.0008 10.9398L17.4707 5.46975C17.7637 5.17675 18.2387 5.17675 18.5317 5.46975C18.8247 5.76275 18.8247 6.23779 18.5317 6.53079L13.0617 12.0008L18.5297 17.4707Z" fill="#E21D12"/></svg>
      </div>
      <div className="upload-content">
      <div className="upload-top-tittle">
            <h4>Upload File</h4>
            <button className='button'>Guide</button>
        </div>
        <div className="upload-middle">
            <div className="upload-middle-content">
                <div className="upload-icon"><svg width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M34.5 9C36.3411 8.99996 38.1627 9.3765 39.8529 10.1065C41.5431 10.8364 43.0662 11.9044 44.3284 13.2448C45.5906 14.5851 46.5653 16.1694 47.1926 17.9003C47.8199 19.6313 48.0865 21.4722 47.976 23.31H48L47.997 26.991C51.0758 26.9902 54.037 28.1727 56.2684 30.2941C58.4997 32.4154 59.8303 35.3131 59.985 38.388L60 38.988C59.9977 42.0652 58.8134 45.0239 56.6917 47.2527C54.5701 49.4815 51.6733 50.8101 48.6 50.964L48 50.979H47.997L48 51H32.997V39.231H40.389L30 27.009L19.638 39.234H27L26.997 51H12C8.81724 50.9921 5.76733 49.7232 3.51818 47.4712C1.26903 45.2193 0.00395865 42.1678 0 38.985C0.000535499 36.2205 0.955557 33.541 2.70364 31.3993C4.45172 29.2577 6.88564 27.7853 9.594 27.231C8.92802 25.4911 8.81837 23.5875 9.28019 21.7826C9.74201 19.9778 10.7525 18.3608 12.1723 17.1546C13.5921 15.9484 15.3513 15.2126 17.207 15.0486C19.0628 14.8846 20.9237 15.3005 22.533 16.239C23.6765 14.0546 25.3963 12.2251 27.506 10.949C29.6156 9.67282 32.0344 8.99879 34.5 9Z" fill="#D4E5F7"/><path fill-rule="evenodd" clip-rule="evenodd" d="M34.5 9C36.3411 8.99996 38.1627 9.3765 39.8529 10.1065C41.5431 10.8364 43.0662 11.9044 44.3284 13.2448C45.5906 14.5851 46.5653 16.1694 47.1926 17.9003C47.8199 19.6313 48.0865 21.4722 47.976 23.31H48L47.997 26.991C51.0758 26.9902 54.037 28.1727 56.2684 30.2941C58.4997 32.4154 59.8303 35.3131 59.985 38.388L60 38.988C59.9977 42.0652 58.8134 45.0239 56.6917 47.2527C54.5701 49.4815 51.6733 50.8101 48.6 50.964L48 50.979H47.997L48 51H32.997V39.231H40.389L30 27.009L19.638 39.234H27L26.997 51H12C8.81724 50.9921 5.76733 49.7232 3.51818 47.4712C1.26903 45.2193 0.00395865 42.1678 0 38.985C0.000535499 36.2205 0.955557 33.541 2.70364 31.3993C4.45172 29.2577 6.88564 27.7853 9.594 27.231C8.92802 25.4911 8.81837 23.5875 9.28019 21.7826C9.74201 19.9778 10.7525 18.3608 12.1723 17.1546C13.5921 15.9484 15.3513 15.2126 17.207 15.0486C19.0628 14.8846 20.9237 15.3005 22.533 16.239C23.6765 14.0546 25.3963 12.2251 27.506 10.949C29.6156 9.67282 32.0344 8.99879 34.5 9Z" fill="white" fill-opacity="0.2"/></svg></div>
           <p>Browse or drag file here to upload</p>
            </div>
            <div className="upload-text">
            <div onClick={handleclickIcon} className="upload-text-icon">
            <svg  className={clickIcon ? "d-block" :"d-none"}  xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="m10 15.586-3.293-3.293-1.414 1.414L10 18.414l9.707-9.707-1.414-1.414z"></path></svg>
            </div>
                <p>Use the first row as the file's header.</p>
            </div>
        </div>
      </div>
      <button onClick={() => setImport(3)}>
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.05831 5.44169C6.81414 5.19752 6.81414 4.80166 7.05831 4.55749L9.55831 2.05749C9.61581 1.99999 9.68509 1.95417 9.76176 1.9225C9.91426 1.85917 10.0868 1.85917 10.2393 1.9225C10.3159 1.95417 10.385 1.99999 10.4425 2.05749L12.9425 4.55749C13.1867 4.80166 13.1867 5.19752 12.9425 5.44169C12.8208 5.56335 12.6608 5.62499 12.5008 5.62499C12.3408 5.62499 12.1808 5.56419 12.0591 5.44169L10.6258 4.00833V13.3333C10.6258 13.6783 10.3458 13.9583 10.0008 13.9583C9.65581 13.9583 9.37581 13.6783 9.37581 13.3333V4.00914L7.9425 5.4425C7.6975 5.68583 7.30248 5.68585 7.05831 5.44169ZM15 7.70833C14.655 7.70833 14.375 7.98833 14.375 8.33333C14.375 8.67833 14.655 8.95833 15 8.95833C16.3142 8.95833 16.875 9.51916 16.875 10.8333V15C16.875 16.3142 16.3142 16.875 15 16.875H5C3.68583 16.875 3.125 16.3142 3.125 15V10.8333C3.125 9.51916 3.68583 8.95833 5 8.95833C5.345 8.95833 5.625 8.67833 5.625 8.33333C5.625 7.98833 5.345 7.70833 5 7.70833C2.985 7.70833 1.875 8.81833 1.875 10.8333V15C1.875 17.015 2.985 18.125 5 18.125H15C17.015 18.125 18.125 17.015 18.125 15V10.8333C18.125 8.81833 17.015 7.70833 15 7.70833Z" fill="white"/></svg>
         <span>Upload</span>
         </button>
    </div>
</div>
<div id="2" className= {Import === 3 ? "preview" : "d-none"}>
    <div className="preview-container">
<div onClick={handlereturn} className="delete-box">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18.5297 17.4707C18.8227 17.7637 18.8227 18.2388 18.5297 18.5318C18.3837 18.6778 18.1917 18.7517 17.9997 18.7517C17.8077 18.7517 17.6158 18.6788 17.4698 18.5318L11.9997 13.0617L6.52975 18.5318C6.38375 18.6778 6.19175 18.7517 5.99975 18.7517C5.80775 18.7517 5.61575 18.6788 5.46975 18.5318C5.17675 18.2388 5.17675 17.7637 5.46975 17.4707L10.9398 12.0008L5.46975 6.53079C5.17675 6.23779 5.17675 5.76275 5.46975 5.46975C5.76275 5.17675 6.23775 5.17675 6.53075 5.46975L12.0008 10.9398L17.4707 5.46975C17.7637 5.17675 18.2387 5.17675 18.5317 5.46975C18.8247 5.76275 18.8247 6.23779 18.5317 6.53079L13.0617 12.0008L18.5297 17.4707Z" fill="#E21D12"/></svg>
      </div>
      <div className="preview-content">
        <div className="preview-top-tittle">
            <h4>Preview</h4>
            <button >Guide</button>
        </div>
        <div className="preview-content-top">
                <div className="preview-top-button">
                    <button className='button'><span>Edit</span><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.4583 12.5V15C16.4583 17.015 15.3483 18.125 13.3333 18.125H5C2.985 18.125 1.875 17.015 1.875 15V6.66667C1.875 4.65167 2.985 3.54167 5 3.54167H7.5C7.845 3.54167 8.125 3.82167 8.125 4.16667C8.125 4.51167 7.845 4.79167 7.5 4.79167H5C3.68583 4.79167 3.125 5.3525 3.125 6.66667V15C3.125 16.3142 3.68583 16.875 5 16.875H13.3333C14.6475 16.875 15.2083 16.3142 15.2083 15V12.5C15.2083 12.155 15.4883 11.875 15.8333 11.875C16.1783 11.875 16.4583 12.155 16.4583 12.5ZM18.125 5.04667C18.1242 5.53583 17.9333 5.995 17.5867 6.34L10.1175 13.7758C9.99999 13.8925 9.84167 13.9583 9.67667 13.9583H6.66667C6.32167 13.9583 6.04167 13.6783 6.04167 13.3333V10.3242C6.04167 10.1592 6.10666 9.99999 6.22416 9.88332L13.66 2.41333C14.0042 2.06666 14.4641 1.87583 14.9533 1.875C14.9541 1.875 14.955 1.875 14.9559 1.875C15.4442 1.875 15.9034 2.065 16.2492 2.41084L17.59 3.75168C17.935 4.09751 18.1258 4.5575 18.125 5.04667ZM14.6808 7.46918L12.5308 5.31916L7.29167 10.5825V12.7092H9.41834L14.6808 7.46918ZM16.875 5.04499C16.875 4.88999 16.815 4.74418 16.7058 4.63501L15.365 3.29417C15.2558 3.185 15.11 3.125 14.9559 3.125H14.955C14.8 3.125 14.655 3.18584 14.5458 3.29501L13.4133 4.4325L15.5675 6.58666L16.705 5.45418C16.8142 5.34584 16.8742 5.19999 16.875 5.04499Z" fill="#0152FF"/></svg> </button>
                    <button onClick={() => setImport(4)}><span>Import</span><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18.0884 10.5874L13.9225 14.7533C13.76 14.9158 13.5467 14.9974 13.3333 14.9974C13.12 14.9974 12.9066 14.9158 12.7441 14.7533C12.4183 14.4274 12.4183 13.9007 12.7441 13.5749L15.4883 10.8307H5.83333C5.3725 10.8307 5 10.4574 5 9.9974C5 9.5374 5.3725 9.16406 5.83333 9.16406H15.4883L12.7441 6.41992C12.4183 6.09409 12.4183 5.56737 12.7441 5.24154C13.07 4.9157 13.5967 4.9157 13.9225 5.24154L18.0884 9.40739C18.1659 9.48489 18.2267 9.5765 18.2692 9.679C18.3534 9.88233 18.3534 10.1125 18.2692 10.3158C18.2267 10.4183 18.1659 10.5099 18.0884 10.5874ZM3.33333 4.16406C2.8725 4.16406 2.5 4.5374 2.5 4.9974V14.9974C2.5 15.4574 2.8725 15.8307 3.33333 15.8307C3.79417 15.8307 4.16667 15.4574 4.16667 14.9974V4.9974C4.16667 4.5374 3.79417 4.16406 3.33333 4.16406Z" fill="white"/></svg></button>
                </div>
        </div>
        <div className={error ? "error-text" : "d-none"}>
                <p>Helper text as guide</p>
            </div> 
        <div className="preview-table">
            <div className="previewTable-header">
                <ul>
                    <li><span>Framework ID</span></li>
                    <li><span>Title</span></li>
                    <li className={error ? "active" : 'nonactive'}><span>Description</span> <div className="error-icon"><svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.1505 2.477C11.598 1.525 10.846 1 10.0329 1C9.21994 1 8.46742 1.525 7.91491 2.477L1.78031 13.0435C1.2203 14.017 1.1603 15.028 1.6153 15.8165C2.04831 16.5665 2.89783 16.998 3.94734 17H16.1186C17.1696 16.998 18.0206 16.568 18.4521 15.8195C18.9046 15.036 18.8436 14.029 18.2846 13.057L12.1505 2.477ZM18.0196 15.5695C17.6791 16.1595 16.9861 16.4985 16.1176 16.5H3.94784C3.08233 16.4985 2.39032 16.158 2.04831 15.5665C1.6848 14.9365 1.74531 14.108 2.21331 13.2935L8.34742 2.728C8.80693 1.936 9.40544 1.5 10.0329 1.5C10.6605 1.5 11.259 1.936 11.718 2.728L17.8521 13.3065C18.3196 14.1195 18.3806 14.9445 18.0196 15.5695Z" fill="#E21D12" stroke="#FF5630" stroke-opacity="0.8"/></svg></div>  </li>
                    <li><span>Owner</span></li>
                    <li className={error ? "active" : 'nonactive'}><span>Mapped Control</span> <div className="error-icon"><svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.1505 2.477C11.598 1.525 10.846 1 10.0329 1C9.21994 1 8.46742 1.525 7.91491 2.477L1.78031 13.0435C1.2203 14.017 1.1603 15.028 1.6153 15.8165C2.04831 16.5665 2.89783 16.998 3.94734 17H16.1186C17.1696 16.998 18.0206 16.568 18.4521 15.8195C18.9046 15.036 18.8436 14.029 18.2846 13.057L12.1505 2.477ZM18.0196 15.5695C17.6791 16.1595 16.9861 16.4985 16.1176 16.5H3.94784C3.08233 16.4985 2.39032 16.158 2.04831 15.5665C1.6848 14.9365 1.74531 14.108 2.21331 13.2935L8.34742 2.728C8.80693 1.936 9.40544 1.5 10.0329 1.5C10.6605 1.5 11.259 1.936 11.718 2.728L17.8521 13.3065C18.3196 14.1195 18.3806 14.9445 18.0196 15.5695Z" fill="#E21D12" stroke="#FF5630" stroke-opacity="0.8"/></svg></div> </li>
                    <li><span>Mapped Risk</span></li>
                </ul>
            </div>
            <div className="previewTable-body">
                <ul onClick={handleError}>
                {ImportData.map((item,index) => {
                    const isThirdColumn = (index +1 ) % 6 === 3;
                    const isFithColum = (index + 1 ) % 6 ===5;
                    const shouldHighlight = error && (isThirdColumn || isFithColum);
                    return(
                    <li key={item.id}  className={shouldHighlight ? "highlight-red" : ""}>{item.name}</li>
                )
        })}
                </ul>
            </div>
        </div>
      </div>
</div>
</div>
<div className={Import === 4 ? "successMessage":"d-none"}>
<div className="successMessage-container">
    <div className="successMessage-content">
        <h2>Import Successful</h2>
        <p>You have successfully import the file.</p>
        <button onClick={() => handlePage(2)} >View</button>
    </div>
</div>
</div>
<div id="4" className={Return ? "cancel-upload" : "d-none"}>
<div className="cancel-upload-contanier">
<div className="cancel-upload-content">
<div className="cancel-top">
<p>Cancel Upload?</p>
<span>Are you sure you want to cancel this uploading process?</span>
</div>
<div className="cancel-button">
<button onClick={() => setReturn(false)}>Return</button>
<button onClick={() => {setImport(null);setReturn(false)}} className='button'>cancel</button>
</div>
</div>
</div>
</div>
</div>
  )
}

export default ImportFrameWork
